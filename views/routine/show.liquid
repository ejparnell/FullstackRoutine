{% layout 'layout.liquid' %}
{% block content %}

<p class="mb-2" style="text-align:center">Hello {{username}}</p>
    <div class="container py-5 h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
            <div class="col col-lg-8 col-xl-6">
                <div class="card rounded-3">
                    <h5 class="card-body p-4">{{routine.title}}</h5>
                {% for task in routine.listItems %}
                <ul class="list-group rounded-0">
                    <li class="list-group-item border-1  align-items-center ps-2">
                    <input  class="form-check-input me-1" type="checkbox" value="" aria-label="..." 
                         {%if task.complete%} checked{% endif %} >
                    {%if task.complete%}
                        <s>{{task.task}}</s>
                    {% else %}
                        {{task.task}}
                    {% endif %}
                    {% if task.complete%}
                    {%else%}
                    <span class="badge bg-danger">not done</span>
                    {% endif %}
                    <a href="/task/edit/{{routine.id}}/{{task.id}}" class="badge btn-primary stretched-link offset-md-5">edit task</a>
                    </li>
                </ul>
              {% endfor %}
            </div>
            
            {% if routine.owner == userId %}
            <container>
            <div class="btn-group py-4 col-md-4 offset-md-9">
                <a href="/routine/edit/{{ routine.id }}" class="btn btn-primary">Edit</a>
                <form action="/routine/{{ routine.id }}?_method=DELETE" method="POST">
                <input type="submit" value="Delete" class="btn btn-danger">
                </form>
            </container>
            </div>
         {% endif %}
        </div>
    </div>
  

{% endblock %}